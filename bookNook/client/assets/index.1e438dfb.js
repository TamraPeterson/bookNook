import{r as ue,u as R,o as z,c as _,a as y,b as d,d as u,e as t,f as U,g as S,F as C,h as W,S as M,i as _e,j as he,k as Q,l as F,M as $,m as E,t as v,w as A,n as x,p as B,q as w,s as V,v as H,x as q,y as Y,z as ge,A as me,P as be,B as pe,C as J,D as G,E as ve}from"./vendor.3dc113be.js";const fe=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function o(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerpolicy&&(i.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?i.credentials="include":n.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(n){if(n.ep)return;n.ep=!0;const i=o(n);fetch(n.href,i)}};fe();const r=ue({user:{},account:{},profile:{},books:[],activeBook:{},searchBooks:[],myShelfBooks:[],activeClub:{},searchClubs:[],clubs:[],memberships:[],myMemberships:[],isMember:[],clubBooks:[],comments:[]}),X=window.location.origin.includes("localhost"),ee=X?"http://localhost:3000":"",ke="dev-sn0b0mv9.us.auth0.com",ye="wVXD6BIwqeVgPVt9OzuE5bgGuda38jpf",Be="https://tam-dev.com";function O(a,e){if(X)console[a](`[${a}] :: ${new Date().toLocaleTimeString()} :: `,...e);else{switch(a){case"log":case"assert":return}console[a](`[${a}] :: ${new Date().toLocaleTimeString()} :: `,...e)}}const l={log(){O("log",arguments)},error(){O("error",arguments)},warn(){O("warn",arguments)},assert(){O("assert",arguments)},trace(){O("trace",arguments)}};var g=(a,e)=>{for(const[o,s]of e)a[o]=s;return a};const we={name:"App",setup(){const a=R();return z(()=>{l.log("App stuff",a.params)}),{route:a,appState:_(()=>r)}}},Se={class:"p-0 container-fluid",style:{"background-size":"cover"}};function $e(a,e,o,s,n,i){const c=y("LandingNavbar"),h=y("Navbar"),k=y("router-view");return d(),u(C,null,[t("header",null,[s.route.name=="Home"?(d(),U(c,{key:0})):(d(),U(h,{key:1}))]),t("main",Se,[S(k)])],64)}var Ce=g(we,[["render",$e]]);class Ae{constructor(e){this.title=e.volumeInfo.title,this.authors=e.volumeInfo.authors,this.imageLinks=e.volumeInfo.imageLinks,this.bookId=e.id}}const m=W.create({baseURL:ee,timeout:8e3}),oe=W.create({baseURL:"https://www.googleapis.com/books/v1/volumes",timeout:8e3}),te="key=AIzaSyBweUI-e0zHv_rgZwbaR9uxeNZ34POOyeg";class xe{async getBookById(e){const o=await oe.get("/"+e+"?"+te);l.log(o.data),o.data.volumeInfo.bookId=o.data.id,o.data.volumeInfo.id=e,r.activeBook=o.data.volumeInfo,l.log("active book",r.activeBook)}async searchBook(e){r.searchBooks=[];const o=await oe.get("?q="+e+"&"+te);r.searchBooks=o.data.items.map(s=>new Ae(s)),l.log("searchbooks",r.searchBooks)}async addToShelf(){const e=r.activeBook,o=await m.post("api/shelfBooks",e);return l.log("added to shelf",o.data),r.myShelfBooks.push(o.data),l.log(r.myShelfBooks),o.data}async getAll(e){const o=await m.get("api/shelfBooks/?accountId="+e);l.log("getting books",o.data),r.myShelfBooks=o.data}async removeFromShelf(e){const o=r.myShelfBooks.find(n=>n.bookId==e),s=await m.delete("api/shelfBooks/"+o.id);l.log("delorting book",s.data),r.myShelfBooks=r.myShelfBooks.filter(n=>n!=o)}}const f=new xe;class b{static async confirm(e="Are you sure?",o="You won't be able to revert this!",s="warning",n="Yes, delete it!"){try{return!!(await M.fire({title:e,text:o,icon:s,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:n})).isConfirmed}catch{return!1}}static toast(e="Warning!",o="warning",s="top-end",n=3e3,i=!0){M.fire({title:e,icon:o,position:s,timer:n,timerProgressBar:i,toast:!0,showConfirmButton:!1})}static async getDate(e="when?"){let o=null;return await M.fire({title:e,html:'<input class="swal2-input" type="date" id="new-book-date">',stopKeydownPropagation:!1,showCancelButton:!0,preConfirm:async s=>{if(s){let n=await M.getPopup().querySelector("#new-book-date");o=new Date(n.value)}}}),o}}const Ie="modulepreload",se={},Te="/",I=function(e,o){return!o||o.length===0?e():Promise.all(o.map(s=>{if(s=`${Te}${s}`,s in se)return;se[s]=!0;const n=s.endsWith(".css"),i=n?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${i}`))return;const c=document.createElement("link");if(c.rel=n?"stylesheet":Ie,n||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),n)return new Promise((h,k)=>{c.addEventListener("load",h),c.addEventListener("error",k)})})).then(()=>e())};function Ee(a){switch(a){case"./pages/AboutPage.vue":return I(()=>import("./AboutPage.b24ac1e4.js"),["assets/AboutPage.b24ac1e4.js","assets/vendor.3dc113be.js"]);case"./pages/AccountPage.vue":return I(()=>import("./AccountPage.25c0b2e8.js"),["assets/AccountPage.25c0b2e8.js","assets/AccountPage.68e73645.css","assets/vendor.3dc113be.js"]);case"./pages/BookClubPage.vue":return I(()=>import("./BookClubPage.f23bf99c.js"),["assets/BookClubPage.f23bf99c.js","assets/BookClubPage.85cbfe9a.css","assets/vendor.3dc113be.js"]);case"./pages/BooksPage.vue":return I(()=>import("./BooksPage.7846a36b.js"),["assets/BooksPage.7846a36b.js","assets/BooksPage.d2a46309.css","assets/vendor.3dc113be.js"]);case"./pages/ClubsPage.vue":return I(()=>import("./ClubsPage.652d3b12.js"),["assets/ClubsPage.652d3b12.js","assets/ClubsPage.244c02e2.css","assets/vendor.3dc113be.js"]);case"./pages/HomePage.vue":return I(()=>import("./HomePage.530f33a4.js"),["assets/HomePage.530f33a4.js","assets/HomePage.60a1c4e6.css","assets/vendor.3dc113be.js"]);case"./pages/ProfilePage.vue":return I(()=>import("./ProfilePage.00d67012.js"),["assets/ProfilePage.00d67012.js","assets/ProfilePage.68d44d30.css","assets/vendor.3dc113be.js"]);default:return new Promise(function(e,o){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(o.bind(null,new Error("Unknown variable dynamic import: "+a)))})}}function T(a){return()=>Ee(`./pages/${a}.vue`)}const Oe=[{path:"/",name:"Home",component:T("HomePage")},{path:"/about",name:"About",component:T("AboutPage")},{path:"/account",name:"Account",component:T("AccountPage"),beforeEnter:Q},{path:"/profile/:id",name:"Profile",component:T("ProfilePage"),beforeEnter:Q},{path:"/books",name:"Books",component:T("BooksPage")},{path:"/clubs",name:"Clubs",component:T("ClubsPage"),beforeEnter:F},{path:"/clubs/:id",name:"BookClubPage",component:T("BookClubPage"),beforeEnter:F}],Z=_e({linkActiveClass:"router-link-active",linkExactActiveClass:"router-link-exact-active",history:he(),routes:Oe});var Le="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAABFCAYAAAAvtjQgAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAANdSURBVHgBzVo9bxNBEJ3zxRidwb5cHL4VpbAESYkpKEiUKtCClBIJAQ2UKanyL0C0QBUpogEBZQBBgWnzE5IoH7KDLkKykuXNeveyNjExFmT2SU97d77bfZ6dmZvbu4AOEDitcvaPwmHn9nu9cttgZmZmyOxIMK9FGJ4Cd0gGpYWFhZRF5MAyuM1HX0xM0HHg7sqK3UzAZs7s9OsP/wN6bCtEkSwCHyzCUL5YhIZIGOVyWc3OzranBjskBaVUsLi42J6aZrNJUtjZaacvcYtYiFuEXCGlUkk6fLOEJgYYgTIhQRCI5ZEOZ4WPSE9N4NYhIuCpmZ+f13kkkHZW1CN6ahTmyQsfsVWaKHy4+yo7NdIpPsh8xIMUH3gRNWQrNOu5krA+Il4qelEGZFFDwnnEDV/RqZmbm2sXz1zAkhwOnvQkowapQ2VCSDDFsxGyxwlJdJSKkmCLuOErCm+EMLxYqPHFIsoVIppZvbBIR/hKloo2q9vlzRjc4gMCy5sjZJc3pe++8BH5FSPrI35NjSS6b3p+rI9IwgSKfD3Ci0RZZvVhMc+XqGl481JA/F7D4evF3bejZvUhxdv3NQNFzUarRa/W1igKQ7o9Okqj+Tz9Ldgi/Mg50IujdH+fXm9s0Lvt7ezYR1h1Cr42gCB+X5NZpK+oYQEftra0gF1sG3w37VUWw7xTqdCNOO5XkB67L4v0EFAPw/DZ3t7eF9PZdfAReG1pc5OWIehWktDNJDmqe/0JwJE+8h6DL2EaXAHgU/ATRKRod42Qt+AyxE3j+OPNVqv2cn1di2cLTcVxryH0dwQ91+JX0pSer64SOuwW8Bn8Ecdx2mg0fmKbT1C1Wi2s1+spRLxhQeA0qAVxP2ylXoK4QuOWQ3jYCnoyNqYmosj9iOAb/uVDtFeiKLoAAdzTSTA8xJLcFzvG6WKxeBZtFdfe5z5sf5V8Xo/h9J+YviiHWE7o968YrIDL4EUwHh8f7yWgG/z7iUql0lOQwxHzBzotYk5+YARcovYNsdCnADrEQloQWi0I7BY0QtYiZrCv5qTMAlbAP1ja4uv1lIHnCoUCC7oHcsQNk32TBhb5BPjAeeMDg1rgj4BT5iYnJ08YQWeobaXIHSc0g/NJ4TEs7mmnrlarPOZQ93iiVdov9CB0wMa+UG0AAAAASUVORK5CYII=";const Pe={props:{searchBook:{type:Object,required:!0}},setup(a){return{activeBook:_(()=>r.activeBook),searchBooks:_(()=>r.searchBooks),myShelfBooks:_(()=>r.myShelfBooks),onMyShelf:_(()=>r.myShelfBooks.find(e=>e.bookId===a.searchBook.bookId)),async addToShelf(e){try{await f.addToShelf(),$.getOrCreateInstance(document.getElementById("bookDetails-modal"+e)).hide()}catch(o){l.error(o),b.toast(o.message,"error")}},async getById(e){try{l.log("the shelf book id",e),await f.getBookById(e),$.getOrCreateInstance(document.getElementById("bookDetails-modal"+e)).show()}catch(o){l.log(o),b.toast(o.message,"error")}},async goToClubs(e){try{Z.push({name:"Clubs",query:{activeBookId:a.searchBook.bookId}}),$.getOrCreateInstance(document.getElementById("bookDetails-modal"+e)).hide()}catch(o){l.log(o)}}}}},N=a=>(B("data-v-ff976d0c"),a=a(),w(),a),je={class:"component d-flex flex-column align-items-center"},De=N(()=>t("div",{class:"pages nook-shadow rounded-1"},null,-1)),Me={key:0},Ne=N(()=>t("img",{src:Le,class:"book-mark"},null,-1)),Re=[Ne],ze=["src"],Ue={class:"text-center mt-2 rounded-1 frosted-bg"},Ve={class:"row align-items-center"},He={class:"col-md-6"},qe={class:"col-md-6"},Ye=["src"],Ze=["innerHTML"],Ke={class:"row justify-content-center"},We={class:"col-md-4 d-flex"},Qe=["disabled"],Fe=N(()=>t("h6",null,"Add To Shelf",-1)),Je=[Fe],Ge={class:"col-md-4 d-flex"},Xe=N(()=>t("h3",null,[t("i",{class:"mdi mdi-account-group"},[t("h6",null,"NookClub")])],-1)),eo=[Xe];function oo(a,e,o,s,n,i){var h;const c=y("Modal");return d(),u(C,null,[t("div",je,[De,s.onMyShelf?(d(),u("div",Me,Re)):E("",!0),t("img",{onClick:e[0]||(e[0]=k=>s.getById(o.searchBook.bookId)),class:"nook-shadow cover-size rounded-1 selectable",src:((h=o.searchBook.imageLinks)==null?void 0:h.thumbnail)||"../assets/img/BookCoverTest2.jpg",alt:""},null,8,ze),t("p",Ue,[t("small",null,v(o.searchBook.title),1)])]),s.activeBook.title?(d(),U(c,{key:0,id:"bookDetails-modal"+o.searchBook.bookId},{"modal-title":A(()=>[t("h3",null,v(s.activeBook.title),1),x(" "+v(s.activeBook.subtitle),1)]),"modal-body":A(()=>{var k;return[t("div",Ve,[t("div",He,[t("h5",null,"Written by: "+v(s.activeBook.authors[0]),1),t("h6",null,"Published by: "+v(s.activeBook.publisher),1),t("h6",null,v(s.activeBook.pageCount)+" pages",1)]),t("div",qe,[t("img",{class:"thumbnail img-fluid",src:((k=s.activeBook.imageLinks)==null?void 0:k.smallThumbnail)||"../assets/img/BookCoverTest2.jpg",alt:""},null,8,Ye)]),t("p",{innerHTML:s.activeBook.description},null,8,Ze)]),t("div",Ke,[t("div",We,[t("div",null,[t("button",{disabled:s.onMyShelf,class:"btn bg-blue mt-3 shadow"},[t("h3",null,[t("i",{onClick:e[1]||(e[1]=de=>s.addToShelf(o.searchBook.bookId)),class:"mdi mdi-heart"},Je)])],8,Qe)])]),t("div",Ge,[t("button",{onClick:e[2]||(e[2]=de=>s.goToClubs(o.searchBook.bookId)),class:"btn bg-blue mt-3 shadow ms-5"},eo)])])]}),_:1},8,["id"])):E("",!0)],64)}var to=g(Pe,[["render",oo],["__scopeId","data-v-ff976d0c"]]),so=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:to});const ao={setup(){const a=V("");return{searchTerm:a,async search(){try{await f.searchBook(a.value)}catch(e){l.log(e),b.toast(e.message,"error")}}}}},L=a=>(B("data-v-54e8f00c"),a=a(),w(),a),no=L(()=>t("div",null,[t("h2",{class:"text-light bold"},"Look for a Book")],-1)),ro=L(()=>t("button",{class:"btn col-6 col-md-2 bg-red rounded-2 text-light search-shadow"}," Search ",-1)),co=L(()=>t("link",{rel:"preconnect",href:"https://fonts.googleapis.com"},null,-1)),lo=L(()=>t("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:""},null,-1)),io=L(()=>t("link",{href:"https://fonts.googleapis.com/css2?family=Nanum+Pen+Script&display=swap",rel:"stylesheet"},null,-1));function uo(a,e,o,s,n,i){return d(),u(C,null,[no,t("form",{class:"row form-group justify-content-center p-3",onSubmit:e[1]||(e[1]=Y((...c)=>s.search&&s.search(...c),["prevent"]))},[H(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=c=>s.searchTerm=c),class:"col-md-7 rounded-2 bg-light darken-10 search-shadow font-search",placeholder:"Search..."},null,512),[[q,s.searchTerm]]),ro],32),co,lo,io],64)}var _o=g(ao,[["render",uo],["__scopeId","data-v-54e8f00c"]]),ho=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:_o});class go{async getClubsByBookId(e={}){const o=await m.get("api/clubs",{params:e});return l.log("get clubs",o.data),r.clubs=o.data,o.data}async getClubById(e){l.log(e);const o=await m.get("api/clubs/"+e);l.log("the club",o.data),r.activeClub=o.data}async searchClub(e=""){const o=await m.get("api/clubs");r.clubs=o.data,e=e.toLowerCase();const s=new RegExp(e,"ig");r.clubs=r.clubs.filter(n=>s.exec(n.name)),l.log("new array who dis?",r.clubs)}async addToShelf(){const e=r.activeBook,o=await m.post("api/shelfBooks",e);l.log("added book to shelf",o.data)}async createClub(e){const o=await m.post("api/clubs",e);return l.log("service create club",o.data),r.clubs.push(o.data),o.data}async deleteClub(e){if(await b.confirm("Are you sure?")){const o=r.clubs.find(s=>s.id==e);l.log(e,"this should be an id"),await m.delete("api/clubs/"+o.id),r.clubs=r.clubs.filter(s=>s!=o)}}async setAsActive(e){const o=await m.put("api/clubs/"+e.clubId,e);l.log("active book",o.data),r.activeClub=o.data}async getMemberships(e){const o=await m.get("api/clubs/"+e+"/memberships");l.log("getting memberships",o.data),r.memberships=o.data}}const K=new go;const mo={props:{club:{type:Object,required:!0}},setup(a){return ge(async()=>{}),{async deleteClub(){await K.deleteClub(a.club.id)},account:_(()=>r.account),activeBook:_(()=>r.activeBook)}}},bo={class:"component"},po={class:"bg-club rounded elevation-2 p-3 m-2"},vo={class:"clubs"},fo={class:"d-flex position-relative"},ko={class:"f-name px-2 rounded"},yo={class:"f-desc"},Bo=me('<link rel="preconnect" href="https://fonts.googleapis.com" data-v-6a98c836><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin data-v-6a98c836><link href="https://fonts.googleapis.com/css2?family=BIZ+UDMincho&amp;family=Bebas+Neue&amp;family=Playfair+Display&amp;display=swap" rel="stylesheet" data-v-6a98c836><link rel="preconnect" href="https://fonts.googleapis.com" data-v-6a98c836><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin data-v-6a98c836><link href="https://fonts.googleapis.com/css2?family=BIZ+UDMincho&amp;family=Playfair+Display&amp;display=swap" rel="stylesheet" data-v-6a98c836>',6);function wo(a,e,o,s,n,i){return d(),u(C,null,[t("div",bo,[t("div",po,[t("div",vo,[t("div",fo,[t("div",ko,v(o.club.name),1),s.account.id==o.club.creatorId?(d(),u("i",{key:0,onClick:e[0]||(e[0]=(...c)=>s.deleteClub&&s.deleteClub(...c)),class:"mdi mdi-close selectable del-b"})):E("",!0)]),t("div",yo,v(o.club.description),1)])])]),Bo],64)}var So=g(mo,[["render",wo],["__scopeId","data-v-6a98c836"]]),$o=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:So});class Co{async getClubsBooks(e){const o=await m.get("api/clubs/"+e+"/clubBooks");r.clubBooks=o.data,l.log("book for this club",o.data)}async addBookToClub(e,o){l.log("search book",e,o);const s=await m.post("api/clubs/"+o+"/clubBooks",e);l.log(s.data),r.clubBooks.push(s.data),l.log(r.clubBooks)}async setAsActive(e){const o=r.clubBooks.find(s=>s.id==e);r.activeBook=o,l.log(o)}}const ae=new Co;const Ao={props:{searchBook:{type:Object,required:!0}},setup(a){const e=R();var o=[].slice.call(document.querySelectorAll('[data-bs-toggle="popover"]'));return o.map(function(s){return new be(s)}),z(()=>{}),{activeBook:_(()=>r.activeBook),searchBooks:_(()=>r.searchBooks),myShelfBooks:_(()=>r.myShelfBooks),onMyShelf:_(()=>r.myShelfBooks.find(s=>s.bookId===a.searchBook.bookId)),async addToShelf(){try{await f.addToShelf(),$.getOrCreateInstance(document.getElementById("bookDetails-modal")).hide()}catch(s){l.error(s),b.toast(s.message,"error")}},async getById(s){try{l.log("the shelf book id",s),await f.getBookById(s),$.getOrCreateInstance(document.getElementById("bookDetails-modal")).show()}catch(n){l.log(n),b.toast(n.message,"error")}},async addBookToClub(s){try{let n=await b.getDate("When do you want to start reading this book?");n&&(s.clubId=e.params.id,s.startDate=n,await ae.addBookToClub(s,e.params.id))}catch(n){l.error(n),b.toast(n.message,"error")}}}}},xo={class:"component d-flex flex-column w-100 border-bottom"},Io=["title","data-bs-content"],To={class:"p-1 pt-2 clip-text",type:"button"};function Eo(a,e,o,s,n,i){var c;return d(),u("div",xo,[t("span",{class:"d-inline-block nook-shadow rounded-1 selectable text-start pages",tabindex:"0","data-bs-toggle":"popover","data-bs-trigger":"hover","data-bs-html":"true",title:`<b>${o.searchBook.title}</b>`,"data-bs-content":`
        <div class='row px-2'>
          <div class='col-6'>
            <img class='row cover-size nook-shadow' src='${((c=o.searchBook.imageLinks)==null?void 0:c.thumbnail)||"../assets/img/BookCoverTest2.jpg"}'>
          </div>
          <div class='col-6'>
            <p class='row px-3'>Written by: ${o.searchBook.authors}</p>
          </div>
        </div>
      `,"data-bs-placement":"left",onClick:e[0]||(e[0]=h=>s.addBookToClub(o.searchBook))},[t("span",To,v(o.searchBook.title),1)],8,Io)])}var Oo=g(Ao,[["render",Eo]]),Lo=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Oo});const Po={props:{searchClub:{type:Object,required:!0}},setup(){return{activeBook:_(()=>r.activeBook),async addToShelf(){try{await f.addToShelf()}catch(a){l.error(a),b.toast(a.message,"error")}},async getById(a){try{l.log("the shelf book id",a),await f.getBookById(a),$.getOrCreateInstance(document.getElementById("bookDetails-modal")).show()}catch(e){l.log(e),b.toast(e.message,"error")}}}}},ne=a=>(B("data-v-64d0f852"),a=a(),w(),a),jo={class:"component"},Do=ne(()=>t("div",{class:"pages nook-shadow rounded"},null,-1)),Mo=ne(()=>t("h1",null,"Ye",-1)),No=[Do,Mo];function Ro(a,e,o,s,n,i){return d(),u("div",jo,No)}var zo=g(Po,[["render",Ro],["__scopeId","data-v-64d0f852"]]),Uo=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:zo});const Vo={setup(){const a=V("");return{searchTerm:a,async search(){try{l.log(a.value,"is dis it?"),await K.searchClub(a.value)}catch(e){l.log(e),b.toast(e.message,"error")}}}}},Ho={class:"row justify-content-center"},qo={class:"col-md-5"},Yo=t("button",{class:"btn col-3 bg-red rounded-2 text-light shadow"}," Search ",-1);function Zo(a,e,o,s,n,i){return d(),u("div",Ho,[t("div",qo,[t("form",{class:"row form-group justify-content-between p-3",onSubmit:e[1]||(e[1]=Y((...c)=>s.search&&s.search(...c),["prevent"]))},[H(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=c=>s.searchTerm=c),class:"col-9 rounded-2 bg-pink shadow",placeholder:"Search Clubs..."},null,512),[[q,s.searchTerm]]),Yo],32)])])}var Ko=g(Vo,[["render",Zo]]),Wo=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ko}),Qo="/assets/BigLogo.3b178589.png";const Fo={setup(){return{}}},P=a=>(B("data-v-39eacad2"),a=a(),w(),a),Jo={class:"navbar navbar-expand-lg navbar-dark bg-blue px-3"},Go=P(()=>t("div",{class:"col-4"},null,-1)),Xo=P(()=>t("div",{class:"col-4 d-flex justify-content-center"},[t("img",{src:Qo,class:"m-0 img-height"})],-1)),et=P(()=>t("div",{class:"col-4"},null,-1)),ot=P(()=>t("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"},[t("span",{class:"navbar-toggler-icon"})],-1)),tt=P(()=>t("div",{class:"collapse navbar-collapse",id:"navbarText"},null,-1)),st=[Go,Xo,et,ot,tt];function at(a,e,o,s,n,i){return d(),u("nav",Jo,st)}var nt=g(Fo,[["render",at],["__scopeId","data-v-39eacad2"]]),rt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:nt});class ct{async getAccount(){try{const e=await m.get("/account");r.account=e.data}catch(e){l.error("HAVE YOU STARTED YOUR SERVER YET???",e)}}async update(e){const o=await m.put("/account",e);l.log("[update AccountService]",o.data),r.account=o.data,r.profile=o.data}}const lt=new ct,it={connection:"connection",connected:"connected",disconnect:"disconnect",authenticate:"authenticate",authenticated:"authenticated",userConnected:"userConnected",userDisconnected:"userDisconnected",error:"error"};class dt{constructor(e=!1,o=ee){}on(e,o){var s;return(s=this.socket)==null||s.on(e,o.bind(this)),this}onConnected(e){l.log("[SOCKET_CONNECTION]",e),this.connected=!0,this.playback()}onAuthenticated(e){l.log("[SOCKET_AUTHENTICATED]",e),this.authenticated=!0,this.playback()}authenticate(e){var o;(o=this.socket)==null||o.emit(it.authenticate,e)}onError(e){l.error("[SOCKET_ERROR]",e)}enqueue(e,o){l.log("[ENQUEING_ACTION]",{action:e,payload:o}),this.queue.push({action:e,payload:o})}playback(){l.log("[SOCKET_PLAYBACK]");const e=[...this.queue];this.queue=[],e.forEach(o=>{this.emit(o.action,o.payload)})}emit(e,o=void 0){if(this.requiresAuth&&!this.authenticated)return this.enqueue(e,o);if(!this.connected)return this.enqueue(e,o);this.socket.emit(e,o)}}class ut extends dt{constructor(){super();this.on("error",this.onError)}onError(e){b.toast(e.message,"error")}}const re=new ut,p=pe({domain:ke,clientId:ye,audience:Be,useRefreshTokens:!0,onRedirectCallback:a=>{Z.push(a&&a.targetUrl?a.targetUrl:window.location.pathname)}});p.on(p.AUTH_EVENTS.AUTHENTICATED,async function(){m.defaults.headers.authorization=p.bearer,m.interceptors.request.use(_t),r.user=p.user,await lt.getAccount(),re.authenticate(p.bearer),await f.getAll(r.account.id)});async function _t(a){if(!p.isAuthenticated)return a;const e=p.identity.exp*1e3,o=e<Date.now(),s=e<Date.now()+1e3*60*60*12;return o?await p.loginWithPopup():s&&(await p.getTokenSilently(),m.defaults.headers.authorization=p.bearer,re.authenticate(p.bearer)),a}const ht={setup(){return{user:_(()=>r.user),account:_(()=>r.account),async login(){p.loginWithPopup()},async logout(){p.logout({returnTo:window.location.origin})}}}},ce=a=>(B("data-v-ab4692a0"),a=a(),w(),a),gt={class:"navbar-text"},mt={key:1,class:"dropdown my-2 my-lg-0"},bt={class:"dropdown-toggle selectable","data-bs-toggle":"dropdown","aria-expanded":"false",id:"authDropdown"},pt={key:0},vt=["src"],ft={class:"mx-3 text-success lighten-30"},kt={class:"dropdown-menu p-0 list-group w-100","aria-labelledby":"authDropdown"},yt=ce(()=>t("div",{class:"list-group-item list-group-item-action hoverable"}," Manage Profile ",-1)),Bt=ce(()=>t("i",{class:"mdi mdi-logout"},null,-1)),wt=x(" logout "),St=[Bt,wt];function $t(a,e,o,s,n,i){const c=y("router-link");return d(),u("span",gt,[s.user.isAuthenticated?(d(),u("div",mt,[t("div",bt,[s.account.picture?(d(),u("div",pt,[t("img",{src:s.account.picture,alt:"account photo",height:"40",class:"rounded"},null,8,vt),t("span",ft,v(s.account.name),1)])):E("",!0)]),t("div",kt,[S(c,{to:{name:"Profile",params:{id:s.account.id}}},{default:A(()=>[yt]),_:1},8,["to"]),t("div",{class:"list-group-item list-group-item-action hoverable text-danger",onClick:e[1]||(e[1]=(...h)=>s.logout&&s.logout(...h))},St)])])):(d(),u("button",{key:0,class:"btn selectable text-success lighten-30 text-uppercase my-2 my-lg-0",onClick:e[0]||(e[0]=(...h)=>s.login&&s.login(...h))}," Login "))])}var Ct=g(ht,[["render",$t],["__scopeId","data-v-ab4692a0"]]),At=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ct});const xt={setup(){return{user:_(()=>r.user),account:_(()=>r.account),async login(){p.loginWithPopup()},async logout(){p.logout({returnTo:window.location.origin})}}}},le=a=>(B("data-v-0fca3f7b"),a=a(),w(),a),It={class:"navbar-text"},Tt={key:1,class:"dropdown my-2 my-lg-0"},Et={class:"dropdown-toggle selectable","data-bs-toggle":"dropdown","aria-expanded":"false",id:"authDropdown"},Ot={key:0},Lt=["src"],Pt={class:"mx-3 text-success lighten-30"},jt={class:"dropdown-menu p-0 list-group w-100","aria-labelledby":"authDropdown"},Dt=le(()=>t("div",{class:"list-group-item list-group-item-action hoverable"}," Manage Profile ",-1)),Mt=le(()=>t("i",{class:"mdi mdi-logout"},null,-1)),Nt=x(" logout "),Rt=[Mt,Nt];function zt(a,e,o,s,n,i){const c=y("router-link");return d(),u("span",It,[s.user.isAuthenticated?(d(),u("div",Tt,[t("div",Et,[s.account.picture?(d(),u("div",Ot,[t("img",{src:s.account.picture,alt:"account photo",height:"40",class:"rounded"},null,8,Lt),t("span",Pt,v(s.account.name),1)])):E("",!0)]),t("div",jt,[S(c,{to:{name:"Profile",params:{id:s.account.id}}},{default:A(()=>[Dt]),_:1},8,["to"]),t("div",{class:"list-group-item list-group-item-action hoverable text-danger",onClick:e[1]||(e[1]=(...h)=>s.logout&&s.logout(...h))},Rt)])])):(d(),u("button",{key:0,class:"btn selectable text-success lighten-30 text-uppercase my-2 my-lg-0",onClick:e[0]||(e[0]=(...h)=>s.login&&s.login(...h))}," Login "))])}var Ut=g(xt,[["render",zt],["__scopeId","data-v-0fca3f7b"]]),Vt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ut}),Ht="/assets/BLogo.d5e1b7ab.png";const qt={setup(){return{account:_(()=>r.account),async logout(){p.logout({returnTo:window.location.origin})}}}},j=a=>(B("data-v-721ffeae"),a=a(),w(),a),Yt={class:"navbar-text pt-0 pb-2"},Zt={class:"dropdown my-2 my-lg-0"},Kt=j(()=>t("div",{class:"dropdown-toggle selectable","data-bs-toggle":"dropdown","aria-expanded":"false",id:"bDropdown"},[t("div",null,[t("span",{class:"mx-3 lighten-30"},[t("img",{src:Ht,class:"img-height"})])])],-1)),Wt={class:"dropdown-menu p-0 list-group w-100","aria-labelledby":"bDropdown"},Qt=j(()=>t("div",{class:"list-group-item list-group-item-action hoverable"},[t("i",{class:"mdi mdi-book"}),x(" Books ")],-1)),Ft=j(()=>t("div",{class:"list-group-item list-group-item-action hoverable"},[t("i",{class:"mdi mdi-account-group"}),x(" Clubs ")],-1)),Jt=j(()=>t("div",{class:"list-group-item list-group-item-action hoverable"},[t("i",{class:"mdi mdi-owl"}),x(" My Profile ")],-1)),Gt=j(()=>t("i",{class:"mdi mdi-logout"},null,-1)),Xt=x(" Logout "),es=[Gt,Xt];function os(a,e,o,s,n,i){const c=y("router-link");return d(),u("span",Yt,[t("div",Zt,[Kt,t("div",Wt,[S(c,{to:{name:"Books"}},{default:A(()=>[Qt]),_:1}),S(c,{to:{name:"Clubs"}},{default:A(()=>[Ft]),_:1}),S(c,{to:{name:"Profile",params:{id:s.account.id}}},{default:A(()=>[Jt]),_:1},8,["to"]),t("div",{class:"list-group-item list-group-item-action hoverable text-danger",onClick:e[0]||(e[0]=(...h)=>s.logout&&s.logout(...h))},es)])])])}var ts=g(qt,[["render",os],["__scopeId","data-v-721ffeae"]]),ss=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ts});const as={setup(){return{}}},ns={class:"modal fade",id:"form-modal",tabindex:"-1",role:"dialog","aria-labelledby":"modelTitleId","aria-hidden":"true"},rs={class:"modal-dialog bg-parchment d-flex flex-column align-items-end p-2 rounded-2",role:"document"},cs=t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),ls={class:"modal-content"},is={class:"modal-header bg-parchment"},ds={class:"modal-title"},us={class:"modal-body bg-parchment"};function _s(a,e,o,s,n,i){return d(),u("div",ns,[t("div",rs,[cs,t("div",ls,[t("div",is,[t("h5",ds,[J(a.$slots,"modal-title")])]),t("div",us,[J(a.$slots,"modal-body")])])])])}var hs=g(as,[["render",_s]]),gs=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:hs});const ms={props:{myShelfBook:{type:Object,required:!0}},setup(a){return{activeBook:_(()=>r.activeBook),myShelfBooks:_(()=>r.myShelfBooks),async getById(e){try{l.log("the shelf book id",e),await f.getBookById(e),$.getOrCreateInstance(document.getElementById("bookDetails-modal")).show()}catch(o){l.log(o),b.toast(o.message,"error")}}}}},bs=a=>(B("data-v-14fc1816"),a=a(),w(),a),ps={class:"component d-flex flex-column align-items-center"},vs=bs(()=>t("div",{class:"pages nook-shadow rounded-1"},null,-1)),fs=["src"],ks={class:"text-center mt-2 text-dark"};function ys(a,e,o,s,n,i){var c;return d(),u("div",ps,[vs,t("img",{onClick:e[0]||(e[0]=h=>s.getById(o.myShelfBook.bookId)),class:"nook-shadow cover-size rounded-1 selectable",src:((c=o.myShelfBook.imageLinks[0])==null?void 0:c.thumbnail)||"../assets/img/BookCoverTest2.jpg",alt:""},null,8,fs),t("p",ks,[t("small",null,v(o.myShelfBook.title),1)])])}var Bs=g(ms,[["render",ys],["__scopeId","data-v-14fc1816"]]),ws=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Bs});const Ss={setup(){return{}}},$s=a=>(B("data-v-360cc935"),a=a(),w(),a),Cs={class:"navbar navbar-expand-lg navbar-dark bg-blue p-0 d-flex justify-content-start"},As={class:"col-4 mx-2"},xs=$s(()=>t("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"},[t("span",{class:"navbar-toggler-icon"})],-1)),Is={class:"collapse navbar-collapse",id:"navbarText"};function Ts(a,e,o,s,n,i){const c=y("Logo");return d(),u("nav",Cs,[t("div",As,[xs,t("div",Is,[S(c)])])])}var Es=g(Ss,[["render",Ts],["__scopeId","data-v-360cc935"]]),Os=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Es});const Ls={setup(){const a=R();return z(async()=>{try{await ae.getClubsBooks(a.params.id)}catch(e){l.error(e),b.toast(e.message,"error")}}),{clubBooks:_(()=>r.clubBooks),activeBook:_(()=>r.activeBook),async setAsActive(e){try{await K.setAsActive({activeBookId:e,clubId:a.params.id})}catch(o){l.error(o),b.toast(o.message,"error")}}}}},Ps={class:"off-canvas"},js={class:"offcanvas offcanvas-start bg-light-parchment",tabindex:"-1",id:"offcanvas","aria-labelledby":"offcanvasLabel"},Ds=t("div",{class:"offcanvas-header"},[t("h3",{class:"offcanvas-title border-bottom",id:"offcanvasLabel"}," Club Books "),t("button",{type:"button",class:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1),Ms={class:"offcanvas-body"},Ns=["onClick"];function Rs(a,e,o,s,n,i){return d(),u("div",Ps,[t("div",js,[Ds,t("div",Ms,[(d(!0),u(C,null,G(s.clubBooks,c=>(d(),u("div",{key:c.id},[t("h5",{onClick:h=>s.setAsActive(c.bookId),class:"p-2 m-2 d-flex justify-content-start selectable"},v(c.title),9,Ns)]))),128))])])])}var zs=g(Ls,[["render",Rs]]),Us=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:zs});const Vs={setup(){const a=V("");return{searchTerm:a,async search(){try{await f.searchBook(a.value)}catch(e){l.log(e),b.toast(e.message,"error")}}}}},D=a=>(B("data-v-946f910e"),a=a(),w(),a),Hs=D(()=>t("div",null,[t("h2",null,"Add book to your club!")],-1)),qs=D(()=>t("button",{class:"btn col-3 bg-red rounded-2 text-light search-shadow"}," Search ",-1)),Ys=D(()=>t("link",{rel:"preconnect",href:"https://fonts.googleapis.com"},null,-1)),Zs=D(()=>t("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:""},null,-1)),Ks=D(()=>t("link",{href:"https://fonts.googleapis.com/css2?family=BIZ+UDMincho&family=Bebas+Neue&family=Playfair+Display&display=swap",rel:"stylesheet"},null,-1));function Ws(a,e,o,s,n,i){return d(),u(C,null,[Hs,t("form",{class:"row form-group justify-content-between p-3",onSubmit:e[1]||(e[1]=Y((...c)=>s.search&&s.search(...c),["prevent"]))},[H(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=c=>s.searchTerm=c),class:"col-9 rounded-2 bg-parchment darken-10 search-shadow font-search",placeholder:"Search..."},null,512),[[q,s.searchTerm]]),qs],32),Ys,Zs,Ks],64)}var Qs=g(Vs,[["render",Ws],["__scopeId","data-v-946f910e"]]),Fs=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Qs});const Js={setup(){return{searchBooks:_(()=>r.searchBooks)}}},Gs={class:"offcanvas offcanvas-end",tabindex:"-1",id:"offcanvasRight","aria-labelledby":"offcanvasRightLabel"},Xs=t("div",{class:"offcanvas-header"},[t("h5",{id:"offcanvasRightLabel"},"SEARCH BOOKS"),t("button",{type:"button",class:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1),ea={class:"offcanvas-body"},oa={class:"container-fluid"},ta={class:"row mt-1"},sa={class:"col-12 mt-1 text-center"},aa={class:"row mb-1 p-2 justify-content-around"};function na(a,e,o,s,n,i){const c=y("OffCanvasSearch"),h=y("ClubBookCover");return d(),u("div",Gs,[Xs,t("div",ea,[t("div",oa,[t("div",ta,[t("div",sa,[S(c)])]),t("div",aa,[(d(!0),u(C,null,G(s.searchBooks,k=>(d(),u("div",{class:"col-12 d-flex justify-content-start",key:k.id},[S(h,{searchBook:k},null,8,["searchBook"])]))),128))])])])])}var ra=g(Js,[["render",na]]),ca=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ra});const la={setup(){return{myShelfBooks:_(()=>r.myShelfBooks),activeBook:_(()=>r.activeBook),async removeFromShelf(a){if(await b.confirm("Are you sure you want to remove this book from your library?"))try{await f.removeFromShelf(a),$.getOrCreateInstance(document.getElementById("bookDetails-modal")).hide()}catch(e){l.error(e),b.toast(e.message,"error")}}}}},ia={class:"row align-items-center"},da={class:"col-md-6"},ua={class:"col-md-6"},_a=["src"],ha=["innerHTML"],ga={class:"row justify-content-center"},ma={class:"col-md-4 d-flex"},ba={class:"btn bg-blue mt-3 shadow"},pa=t("h6",null,"Remove",-1),va=[pa],fa=t("div",{class:"col-md-4 d-flex"},[t("button",{class:"btn bg-blue mt-3 shadow ms-5"},[t("h3",null,[t("i",{class:"mdi mdi-account-group"},[t("h6",null,"NookClub")])])])],-1);function ka(a,e,o,s,n,i){return d(),u("div",null,[t("div",ia,[t("div",da,[t("h5",null,"Written by: "+v(s.activeBook.authors[0]),1),t("h6",null,v(s.activeBook.pageCount)+" pages",1)]),t("div",ua,[t("img",{class:"thumbnail img-fluid",src:s.activeBook.imageLinks.thumbnail,alt:""},null,8,_a)]),t("p",{innerHTML:s.activeBook.description},null,8,ha)]),t("div",ga,[t("div",ma,[t("button",ba,[t("h3",null,[t("i",{onClick:e[0]||(e[0]=c=>s.removeFromShelf(s.activeBook.id)),class:"mdi mdi-delete"},va)])])]),fa])])}var ya=g(la,[["render",ka]]),Ba=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ya});function wa(a){Object.entries({"./components/BookCover.vue":so,"./components/BookSearch.vue":ho,"./components/Club.vue":$o,"./components/ClubBookCover.vue":Lo,"./components/ClubButton.vue":Uo,"./components/ClubSearch.vue":Wo,"./components/LandingNavbar.vue":rt,"./components/Login.vue":At,"./components/LoginModal.vue":Vt,"./components/Logo.vue":ss,"./components/Modal.vue":gs,"./components/MyShelfBook.vue":ws,"./components/Navbar.vue":Os,"./components/OffCanvas.vue":Us,"./components/OffCanvasSearch.vue":Fs,"./components/RightOffCanvas.vue":ca,"./components/ShelfBookDetails.vue":Ba}).forEach(([o,s])=>{const n=s.name||o.substr(o.lastIndexOf("/")+1).replace(/\.\w+$/,"");a.component(n,s.default)})}const ie=ve(Ce);wa(ie);ie.use(Z).mount("#app");export{r as A,b as P,g as _,m as a,p as b,K as c,lt as d,f as e,l,Z as r};
