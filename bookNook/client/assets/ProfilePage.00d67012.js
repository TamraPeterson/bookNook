import{a as f,b as c,d,e,G as w,t as p,m as b,F as I,D as V,g as u,w as m,f as C,u as M,s as U,z as j,M as D,c as n,H as E,v as _,x as h,I as N,n as A,p as F,q as R}from"./vendor.3dc113be.js";import{a as z,l as g,A as r,_ as T,d as W,P as y,e as q}from"./index.1e438dfb.js";class G{async getProfile(t){const s=await z.get("api/profiles/"+t);g.log("[getProfile]",s.data),r.profile=s.data}}const H=new G;const v={name:"Profile",setup(){const l=M(),t=U({});return j(async()=>{try{l.name=="Profile"&&(await H.getProfile(l.params.id),await q.getAll(l.params.id))}catch(s){g.error(s),y.toast(s.message,"error")}}),{editable:t,async update(){try{await W.update(t.value),D.getOrCreateInstance(document.getElementById("profile-modal")).hide()}catch(s){g.error(s),y.toast(s.message,"error")}},profile:n(()=>r.profile),account:n(()=>r.account),myShelfBooks:n(()=>r.myShelfBooks),coverImg:n(()=>`url('${r.profile.coverImg}')`),activeBook:n(()=>r.activeBook)}}},B=()=>{E(l=>({"1ddd50a2":l.coverImg}))},S=v.setup;v.setup=S?(l,t)=>(B(),S(l,t)):B;const L=v,i=l=>(F("data-v-cd83c9d2"),l=l(),R(),l),O={class:"container-fluid text-center bg-parchment"},J={class:"row justify-content-center bg-blue cover-img mb-3 nook-shadow"},K={class:"col-12 mb-0"},Q=["src"],X={key:0,"data-bs-toggle":"modal","data-bs-target":"#profile-modal",class:"mdi mdi-pencil selectable"},Y={class:"row mt-5 p-2 justify-content-center"},Z=i(()=>e("h5",null,"Edit Profile Form",-1)),$={class:"row d-flex flex-column bg-micks-other-hat p-3"},ee=i(()=>e("h5",{class:"p-1 pt-3"},"Username:",-1)),oe=i(()=>e("h5",{class:"p-1 pt-3"},"Profile Photo:",-1)),te=i(()=>e("h5",{class:"p-1 pt-3"},"Background Photo:",-1)),le=i(()=>e("h5",{class:"p-1 pt-3"},"Backdrop Color:",-1)),ae=i(()=>e("option",null,"White",-1)),se=i(()=>e("option",null,"Blue",-1)),ie=i(()=>e("option",null,"Red",-1)),re=i(()=>e("option",null,"Pink",-1)),ce=[ae,se,ie,re];function ne(l,t,s,o,de,pe){const x=f("MyShelfBook"),k=f("Modal"),P=f("ShelfBookDetails");return c(),d("div",O,[e("div",J,[e("div",K,[e("div",{class:w(`mt-5 backdrop
          ${o.profile.color=="White"?"profile-white text-dark":""}
          ${o.profile.color=="Blue"?"profile-blue text-light":""}
          ${o.profile.color=="Red"?"profile-red text-light":""}
          ${o.profile.color=="Pink"?"profile-pink text-dark":""}
        `)},[e("img",{src:o.profile.picture,class:"profile-img rounded-circle elevation-4"},null,8,Q),e("h1",null,p(o.profile.name),1),e("p",null,p(o.profile.email),1),e("h6",null,[o.account.id==o.profile.id?(c(),d("i",X,"Edit Profile")):b("",!0)])],2)]),e("div",Y,[(c(!0),d(I,null,V(o.myShelfBooks,a=>(c(),d("div",{class:"col-12 col-sm-5 col-md-2 m-3 d-flex justify-content-center",key:a.id},[u(x,{myShelfBook:a},null,8,["myShelfBook"])]))),128))])]),u(k,{id:"profile-modal"},{"modal-title":m(()=>[Z]),"modal-body":m(()=>[e("form",$,[ee,_(e("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>o.editable.name=a),type:"text",maxlength:"25",placeholder:"Name..."},null,512),[[h,o.editable.name]]),oe,_(e("input",{"onUpdate:modelValue":t[1]||(t[1]=a=>o.editable.picture=a),type:"text",placeholder:"Url..."},null,512),[[h,o.editable.picture]]),te,_(e("input",{"onUpdate:modelValue":t[2]||(t[2]=a=>o.editable.coverImg=a),type:"text",placeholder:"Url..."},null,512),[[h,o.editable.coverImg]]),le,_(e("select",{class:"mb-2 py-1","onUpdate:modelValue":t[3]||(t[3]=a=>o.editable.color=a),name:"color",id:"list-color"},ce,512),[[N,o.editable.color]]),e("button",{type:"button",class:"btn bg-micks-hat mt-4",onClick:t[4]||(t[4]=(...a)=>o.update&&o.update(...a))}," Submit ")])]),_:1}),o.activeBook.title?(c(),C(k,{key:0,id:"bookDetails-modal"},{"modal-title":m(()=>[e("h3",null,p(o.activeBook.title),1),A(" "+p(o.activeBook.subtitle),1)]),"modal-body":m(()=>[u(P)]),_:1})):b("",!0)])}var fe=T(L,[["render",ne],["__scopeId","data-v-cd83c9d2"]]);export{fe as default};
