import{u as k,s as w,z as I,M as B,c as n,a as d,b as c,d as r,e,m as S,g as i,F as b,D as F,w as m,v as _,x as p,p as P,q as M}from"./vendor.3dc113be.js";import{_ as T,c as g,l as C,P as h,r as V,A as u}from"./index.1e438dfb.js";const j={name:"ClubsPage",setup(){const s=k(),o=w({});return I(async()=>{try{s.name=="Clubs"&&await g.getClubsByBookId(s.query)}catch(l){C.log(l),h.toast(l.message,"error")}}),{editable:o,async createClub(){try{o.value.activeBookId=s.query.activeBookId,await g.createClub(o.value),B.getOrCreateInstance(document.getElementById("club-modal")).hide()}catch(l){C.log(l),h.toast(l.message,"error")}},goTo(l){V.push({name:"BookClubPage",params:{id:l}})},clubs:n(()=>u.clubs),searchClubs:n(()=>u.searchClubs),account:n(()=>u.account)}}},v=s=>(P("data-v-2c3b3954"),s=s(),M(),s),q={class:"container-fluid bg-image2 bg-light"},N={class:"col-md-5"},E={class:"btn bg-red m-3"},A={key:0,"data-bs-toggle":"modal","data-bs-target":"#club-modal",class:"mdi mdi-pencil"},D={class:"justify-content-center"},U={class:"row justify-content-center"},z=["onClick"],L={class:"row"},O={class:"mb-3"},R=v(()=>e("label",{for:"exampleFormControlInput1",class:"form-label"},"Club Name:",-1)),G={class:"mb-3"},H=v(()=>e("label",{for:"exampleFormControlTextarea1",class:"form-label"}," Club description:",-1)),J={class:"row d-flex flex-column bg-blue rounded p-3"};function K(s,o,l,t,Q,W){const f=d("ClubSearch"),x=d("Club"),y=d("Modal");return c(),r(b,null,[e("div",q,[e("div",N,[e("button",E,[t.account.id?(c(),r("i",A,"Create Club")):S("",!0)])]),i(f),e("div",D,[e("div",U,[(c(!0),r(b,null,F(t.clubs,a=>(c(),r("div",{key:a.id,class:"col-md-5 selectable",onClick:X=>t.goTo(a.id)},[i(x,{club:a},null,8,["club"])],8,z))),128))])])]),i(y,{id:"club-modal"},{"modal-title":m(()=>[e("div",L,[e("div",O,[R,_(e("input",{required:"","onUpdate:modelValue":o[0]||(o[0]=a=>t.editable.name=a),type:"text",class:"form-control",id:"exampleFormControlInput1",placeholder:"name your new book club",minlength:"5",maxlength:"25"},null,512),[[p,t.editable.name]])]),e("div",G,[H,_(e("textarea",{"onUpdate:modelValue":o[1]||(o[1]=a=>t.editable.description=a),class:"form-control",id:"exampleFormControlTextarea1",rows:"3",maxlength:"150"},null,512),[[p,t.editable.description]])])])]),"modal-body":m(()=>[e("form",J,[e("button",{type:"button",class:"btn bg-blue",onClick:o[2]||(o[2]=(...a)=>t.createClub&&t.createClub(...a))}," Submit ")])]),_:1})],64)}var $=T(j,[["render",K],["__scopeId","data-v-2c3b3954"]]);export{$ as default};
